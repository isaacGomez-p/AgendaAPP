<ion-header [translucent]="true">
  <ion-toolbar color="light">    
    <ion-title stacked class="my-title" color="dark">
      <div font size=4 align="center"><strong>AGENDA APP</strong></div>
      <div font size=1 align="center"><i>
        <i>
          <div *ngIf="subtitulo" font size=1 align="center" class="text-wrap">{{subtitulo}}</div>
            <H6></H6>
          </i>
          <H6>Planillas</H6>
        </i></div>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" >  
  <ion-item>
    <ion-label>Filtrar por fecha: </ion-label>
    <ion-datetime [(ngModel)]="fechaFiltro" name="fechaFiltro" value="2021-05-20"
                placeholder="Seleccionar fecha" ngModel required (ionChange)="filtrarPorFecha()"></ion-datetime>
  </ion-item>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="chevron-down-circle-outline"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing...">      
    </ion-refresher-content>
    
  </ion-refresher>
  <ion-item-group *ngFor="let planilla of planillas">
    <ion-item-divider color="secondary">
      <ion-icon slot="start" name="pencil-outline" button (click)="editar(planilla.spreadsheetId)"></ion-icon>       
      <ion-label  class="ajustarLetraEspacio">Formulación:  {{planilla.filingDate | date:'mediumDate'}} </ion-label>
    </ion-item-divider>    

    <ion-item>
      <ion-label class="ajustarLetraEspacio">Nivel: </ion-label>
      <ion-label  class="ajustarLetraEspacio">{{planilla.fincaNombre}}</ion-label>
    </ion-item>
  <!--  <ion-item-divider>
      <ion-label>Lote: </ion-label>
    </ion-item-divider>          
    <ion-item>
      <ion-label>      {{planilla.lote}}</ion-label>
    </ion-item>-->
    <ion-item>
      <ion-label class="ajustarLetraEspacio">Actividad: </ion-label>
      <ion-label  class="ajustarLetraEspacio">{{planilla.activity}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="ajustarLetraEspacio">Tipo: </ion-label>
      <ion-label  class="ajustarLetraEspacio">{{planilla.control}}</ion-label>
    </ion-item>    
       
    <ion-item>
        <ion-label class="ajustarLetraEspacio">Producto: </ion-label>
        <ion-label  class="ajustarLetraEspacio"> {{planilla.producto}}</ion-label>          
    </ion-item>
    <!--<ion-item>
      <ion-label>Dosis: </ion-label>
      <ion-label>{{planilla.dose}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Mezcla total: </ion-label>
      <ion-label>{{planilla.totalMix}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Total dosis: </ion-label>
      <ion-label>{{planilla.totalDose}}</ion-label>
    </ion-item>-->
    <ion-item>
      <ion-label class="ajustarLetraEspacio">Elaborado: </ion-label>
      <ion-label class="ajustarLetraEspacio"> {{planilla.madeBy}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="ajustarLetraEspacio">Ejecutado: </ion-label>
      <ion-label class="ajustarLetraEspacio"> {{planilla.executedBy}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="ajustarLetraEspacio">Fecha ejecución: </ion-label>
      <ion-label class="ajustarLetraEspacio"> {{planilla.applicationDate | date:'mediumDate'}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="ajustarLetraEspacio">Estado: </ion-label>
      <ion-label class="ajustarLetraEspacio">  {{planilla.status}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="ajustarLetraEspacio">Calidad ejecución: </ion-label>
      <ion-label class="ajustarLetraEspacio">{{planilla.quality}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-progress-bar color="{{planilla.colorQuality}}" value={{planilla.qualityRango}}></ion-progress-bar>
    </ion-item>
  <br>
<br>
  </ion-item-group>

  <div>                   
                 
</div>
  <section class="full-width">    
    <ion-button expand="full" color="secondary" expand="block" (click)="registrar()">Ingresar nueva planilla</ion-button>
    <ion-button expand="full" color="danger" expand="block" (click)="volver()">Volver</ion-button>
  </section>
</ion-content>
